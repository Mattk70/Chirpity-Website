<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <link rel="canonical" href="https://chirpity.mattkirkland.co.uk/" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org/",
        "@type": "Product",
        "name": "Chirpity",
        "description": "Chirpity is a desktop application powered by Machine Learning to identify bird calls in audio recordings. Perfect for enthusiasts and researchers.",
        "image": "https://chirpity.mattkirkland.co.uk/screenshot.png",
        "operatingSystem": ["Windows", "Mac", "Linux"],
        "offers": {
          "@type": "Offer",
          "price": "0.00",
          "priceCurrency": "GBP",
          "availability": "http://schema.org/InStock"
        }
      }
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <meta
      name="description"
      content="Experience the magic of bird identification through sound with Chirpity! This desktop application harnesses cutting-edge Machine Learning to identify bird calls in audio recordings. Tailored for enthusiasts and researchers, choose between BirdNET or our native model, perfect for Nocmig - tracking Nocturnal Flight Calls. Explore features like multiple language labels and customisable export options. Available for Windows and Mac. Dive into the world of audio-based bird identification - download now!"
    />
    <title>Chirpity - Identify Birds by Sound</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Custom CSS Styling */
    .shine {
      position: relative;
      display: inline-block;
      color: #ffc107;
      background: linear-gradient(90deg, #ffffff 0%, #ffffff 50%, #464646 100%);
      background-size: 200% auto;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      animation: shine 10s ease-in-out infinite;
    }

    @keyframes shine {
      0% {
        background-position: 200% center;
      }
      10% {
        background-position: -200% center;
      }
      100% {
        background-position: -200% center;
      }
    }

      fieldset {
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
      }

      .container-padded {
        padding: 3rem;
        box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
      }
      .download-logo {
        display: block;
        margin: 0 auto;
      }
      .logo-primary {
        fill: #85b5ff;
      }
      .btn {
        min-width: 250px;
        border: 1px solid #000;
      }
      .table-responsive {
        /* overflow-x: hidden; Hide the scrollbar */
        position: relative; /* Ensure child elements are positioned properly */
      }

      .sticky-col {
        position: -webkit-sticky;
        position: sticky;
        left: 0;
        background-color: white; /* Optional: to avoid overlap issues */
        z-index: 1; /* Ensure it stays above other columns */
      }

      .table {
        width: 100%;
        white-space: nowrap; /* Prevent column wrapping */
      }
      .flag-slider {
        overflow: hidden; /* Hide overflowing content */
        position: relative;
        height: 70px;
        padding: 0.75rem;
        margin: 0 auto;
        width: 90%;
      }

      .flag-track {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 1586px;
        overflow: visible;
        white-space: nowrap;
        animation: scroll-flags 30s linear infinite;
      }

      .flag-track img {
        flex-shrink: 0; /* Prevent shrinking */
        margin: 0.75rem; /* Adjust flag size */
        border-radius: 5px;
      }

      /* Keyframes for scrolling animation */
      @keyframes scroll-flags {
        0% {
          transform: translateX(0%); /* Start at the initial position */
          opacity: 0;
        }
        2% {
          opacity: 1;
        }
        98% {
          opacity: 1;
        }
        100% {
          transform: translateX(-100%); /* Move left by the width of all flags */
          opacity: 0;
        }
      }
      /* Pause animation on hover */
      .flag-slider:hover .flag-track {
        animation-play-state: paused; /* Stops the animation */
      }
    </style>
    <!-- Bootstrap JS bundle (popper.js and Bootstrap.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Matomo -->
    <script>
      // Function to get the value of a cookie
      function getCookie(name) {
        return document.cookie
          .split("; ")
          .find((row) => row.startsWith(name + "="))
          ?.split("=")[1];
      }

      // Example usage: Get the value of the cookie named "username"
      const usernameValue = getCookie("username");
      console.log("Username:", usernameValue);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Matomo -->
    <script>
      var _paq = (window._paq = window._paq || []);
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(["enableHeartBeatTimer"]);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "https://analytics.mattkirkland.co.uk/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script>
    <!-- End Matomo Code -->
  </head>

  <body>
    <div class="container container-padded">
      <div class="form-check form-switch float-end">
        <input
          class="form-check-input"
          type="checkbox"
          id="themeToggle"
          checked
        />
        <label class="form-check-label" for="themeToggle">Dark Theme</label>
      </div>
      <!-- Modal -->
      <div
        class="modal fade"
        id="screenshotImageModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="screenshotImageModalLabel"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered modal-lg"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-body">
              <!-- Larger image -->
              <img src="screenshot.png" class="img-fluid" alt="Larger Image" />
            </div>
          </div>
        </div>
      </div>
      <h1 class="display-4">Chirpity: Identify Birds by Sound</h1>
      <p class="lead">
        Using Machine Learning to identify bird calls in audio recordings
      </p>
      <div class="w-100 text-center">
        <a href="#screenshotImageModal" data-bs-toggle="modal">
          <img
            src="screenshot.png"
            class="img-fluid rounded justify-content-center"
            style="max-height: 50vh"
            alt="Chirpity screenshot showing spectrogram, results table and context menu"
          />
        </a>
      </div>
      <!-- Introduction -->
      <div class="row pe-2">

        <div class="col-md-8 col-sm-12">
            <span style="font-size: 2em">Welcome</span> to Chirpity, your ultimate
            companion for identifying bird vocalisations. Designed with Nocmig
            enthusiasts and bioacoustic researchers in mind, Chirpity revolutionises
            the process of reviewing extensive audio files for the presence of avian
            sounds. Powered by cutting-edge Machine Learning, Chirpity offers the
            choice between the well-known
            <a href="https://birdnet.cornell.edu/" target="_blank">BirdNET</a>
            <svg
            viewBox="0 -256 1850 1850"
            width="16"
            height="18"
            id="external-link-icon"
            xmlns="http://www.w3.org/2000/svg"
            >
            <g transform="matrix(1,0,0,-1,30.372881,1426.9492)">
                <path
                d="M 1408,608 V 288 Q 1408,169 1323.5,84.5 1239,0 1120,0 H 288 Q 169,0 84.5,84.5 0,169 0,288 v 832 Q 0,1239 84.5,1323.5 169,1408 288,1408 h 704 q 14,0 23,-9 9,-9 9,-23 v -64 q 0,-14 -9,-23 -9,-9 -23,-9 H 288 q -66,0 -113,-47 -47,-47 -47,-113 V 288 q 0,-66 47,-113 47,-47 113,-47 h 832 q 66,0 113,47 47,47 47,113 v 320 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 384,864 V 960 q 0,-26 -19,-45 -19,-19 -45,-19 -26,0 -45,19 L 1507,1091 855,439 q -10,-10 -23,-10 -13,0 -23,10 L 695,553 q -10,10 -10,23 0,13 10,23 l 652,652 -176,176 q -19,19 -19,45 0,26 19,45 19,19 45,19 h 512 q 26,0 45,-19 19,-19 19,-45 z"
                style="fill: currentColor"
                />
            </g>
            </svg>

            and a bespoke Nocmig model - finely tuned for Nocturnal Flight Calls -
            ensuring identification tailored to your specific needs. With intuitive
            features for reviewing, tagging, and organizing detected calls, Chirpity
            saves valuable time and effort. Available for Windows, Mac and Linux
            platforms, download Chirpity today!
            <div class="container p-2 text-center my-4">
                <blockquote class="blockquote">
                <p class="fs-5 fst-italic">
                    <span>&ldquo;</span>
                    Chirpity is truly a game changer for me. Now I'm not afraid of
                    recordings for entire weeks because I know I can easily and quickly
                    screen through what I'm interested in!
                    <span>&rdquo;</span>
                </p>
                <footer class="blockquote-footer text-end fw-bold mt-3">
                    Stanislas Wroza
                </footer>
                </blockquote>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 mt-2">
            <div class="card mt-2">
                <!-- <div style="position: relative;"> -->
                <img src="img/Chirpity Website Banner Ad_Whimbrel_500x375.png" class="card-img-top" alt="FrogNET">
                
                <div class="card-body pb-0">
                <!-- <h5 class="card-title">Wildlife Acoustics</h5> -->
                    <!-- <p class="card-text"> -->
                        <p>Just because you didn't see it, doesn't mean it wasn't there.
                        Record nocmig flight calls with the Song Meter&reg; Micro 2.</p>
                        <ul>
                          <li>Discover elusive species & passage migrants</li>
                          <li>Identify migration timing & stopover sites</li>
                        </ul>
                        <a href="https://www.wildlifeacoustics.com/products/song-meter-micro-2"><button class="btn btn-info w-100" style="min-width: 100px">Learn more</button></a>
                        <figure>
                          <figcaption class="blockquote-footer mt-2 pb-0">
                            <cite title="Source Title">Sponsored content</cite>
                          </figcaption>
                        </figure>
                    <!-- </p> -->
                </div>
            </div>
        </div>
    </div>

      <!-- Features -->
      <h4>Free Features</h4>

      <!-- Modal -->
      <div
        class="modal fade"
        id="largerImageModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="largerImageModalLabel"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered modal-lg"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-body">
              <!-- Larger image -->
              <img src="reference.png" class="img-fluid" alt="Larger Image" />
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-12 col-md-6">
            <fieldset class="border rounded mb-3 p-2">
              <legend class="h6">Platform and Languages</legend>
              <ul>
                <li>
                  Versions are available for Windows, MacOS (both M-series and
                  Intel) and Linux.
                </li>
                <li>
                  The interface can be translated into any one of 11 languages
                </li>
                <li>Birds' common names are available in 28 languages.</li>
              </ul>
            </fieldset>
            <fieldset class="border rounded mb-3 p-1">
              <legend class="h6">Save Results</legend>
              <ul>
                <li>
                  <strong>In-built Archive:</strong> Save detections to an
                  archive database for future reference and retrieval.
                </li>
                <li>
                  <strong>Export clips:</strong> Extract audio highlights, and
                  export them in your chosen format and quality.
                </li>
                <li>
                  <strong>Export Records:</strong> Export detections as Audacity
                  labels, a Raven selection table, in eBird Record format or as
                  a CSV.
                </li>
                <li>
                  <strong>Locations:</strong> Set custom recording locations,
                  filter saved records by species, location, date and time.
                </li>
                <li>
                  <strong>Charts:</strong> View charts of saved records.
                  Visualise the change in numbers of species' detections through
                  the season.
                </li>
              </ul>
            </fieldset>
            <fieldset class="border rounded mb-3 p-2">
              <legend class="h6">Media Capabilities</legend>
              <ul>
                <li>
                  <!--span class="badge text-bg-danger">New!</span -->
                  <strong>Broad file format support:</strong> Supports WAV files
                  in 32bit float PCM and those larger than 2GB (RF64). You can
                  also analyse and save common compressed file formats.
                </li>
                <li>
                  <strong>Support for BEXT and GUANO metadata:</strong> If GUANO
                  metadata is embedded in the file, this is read, and the
                  recording location and timestamp are set automatically
                </li>
                <li>
                  <strong>Enhance audio:</strong> Audio filters allow you to
                  adjust background noise.
                </li>
                <li>
                  <strong>Organise files:</strong> Organise your source
                  recordings into a structured audio library.
                </li>
              </ul>
            </fieldset>
          </div>
          <div class="col-12 col-md-6">
            <fieldset class="border rounded mb-3 p-2">
              <legend class="h6">Analysis</legend>
              <figure class="figure float-end m-3">
                <a href="#largerImageModal" data-bs-toggle="modal">
                  <img
                    src="reference.png"
                    width="400"
                    alt="Compare detections with reference recordings from Xeno-Canto"
                    class="rounded figure-img float-end img-fluid"
                /></a>
                <figcaption class="figure-caption text-muted text-end">
                  Compare detections with reference audio files.
                </figcaption>
              </figure>
              <ul>
                <li>
                  <strong>Compare results with reference calls:</strong> Compare
                  any species detection with reference calls sourced from
                  <a href="https://www.xeno-canto.org" target="_blank"
                    >xeno-canto</a
                  >
                  <svg width="16" height="18">
                    <use xlink:href="#external-link-icon"></use></svg>, sorted by call type.
                </li>
                <li>
                  <strong>Background Analysis:</strong> Analyse audio in the
                  background while you continue to explore the timeline.
                </li>
                <li>
                  <strong>Retrospective adjustment:</strong> Adjust the
                  detection list or confidence threshold either before or
                  <i>after</i> analysis.
                </li>
                <li>
                  <strong>Easily Refine Results:</strong> Update the details of
                  records, amend or delete them. Add records manually.
                </li>
                <li>
                  <strong>Enhance Sensitivity:</strong> Highlight and analyse
                  specific segments for more detailed results.
                </li>
                <li>
                  <strong>Custom lists:</strong> Limit reported detections to
                  birds in your location at the time of year, birds active at
                  night, or provide a custom list to specify precisely the
                  species of interest to you.
                </li>
                <li>
                  <strong>Time of day and daylight detection: </strong
                  >Detections are tagged with the exact time of day and dawn /
                  dusk boundaries are calculated automatically.
                </li>
              </ul>
            </fieldset>
          </div>
        </div>
      </div>

      <!-- Member Features -->
      <h4>Member-only Features</h4>
      <p>The following capabilities are added when you become a Chirpity member through <a href="https://www.buymeacoffee.com/matthew_kirkland" target="_blank">Buy-me-a-coffee</a>. All these additional features are available for a trial period when you first install the application:</p>
      <div class="container">
        <div class="row">
          <div class="col-12 col-md-6">
            <fieldset class="border rounded mb-3 p-2">
              <legend class="h6">Analysis improvements</legend>
              <ul>
                <li>
                  <strong>GPU backend:</strong> Use your computer's GPU to accelerate audio analysis up to 10x.
                </li>
                <li>
                  <strong>Show all detections:</strong> View all detections in the displayed timeline, not just the currently selected one.
                </li>
                <li><strong>Combine detections:</strong> Show the results from multiple classifiers in a single results view.</li>
              </ul>
            </fieldset>
          </div>
          <div class="col-12 col-md-6">
            <fieldset class="border rounded mb-3 p-2">
              <legend class="h6">Custom classifiers</legend>
              <ul>
                <li>
                  <!--span class="badge text-bg-danger">New!</span -->
                  <strong>Train your own model:</strong> Create a custom classifier using your own audio samples to add new species, improve detection accuracy, or adapt to specific environments.
                </li>
                <li>
                  <strong>Import and export:</strong> Easily share your trained models with others by exporting and importing them.
                </li>
              </ul>
            </fieldset>
          </div>
          <div class="col-12 col-md-6">
            <fieldset class="border rounded mb-3 p-1">
              <legend class="h6">Workflow enhancements</legend>
              <ul>
                <li>
                  <strong>Multiple Archives:</strong> Choose the location for your archive database. Create separate archives for different projects, locations or time periods.
                </li>
                <li>
                  <strong>User-configurable hot keys:</strong> Assign your own keyboard shortcuts for common actions including changing species ID, adding a comment or label to a detection.
                </li>
                <li>
                  <strong>Import Records:</strong> Import existing records from a CSV, allowing results to be shared with others for further analysis.
                </li>
              </ul>
            </fieldset>
          </div>
        </div>
      </div>      
      <!-- End member only Features  -->
      <h4 id="performance">Performance Comparison</h4>
      <div class="m-2">
        <p>
          Many people familiar with BirdNET have used the "BirdNET Analyzer GUI"
          for automated bird call identification. Due to many optimisations made
          in the application, Chirpity is able to perform the analysis
          significantly faster. The following benchmark data show the time taken
          to analyse a 1GB 48k WAV file (just over 3 hours long). Firstly using 
          Chirpity's Nocmig detection models, then BirdNET within Chirpity, and finally
          BirdNET using the BirdNET Analyzer (tested on version 1.5.1). The number in brackets shows how
          much faster than real-time this represents:
        </p>
        <div class="table-responsive">
          <table role="table" class="table table-striped">
            <caption>
              <b>Machine Specs: </b><i><small>1.CPU: 8th Gen, Core i5 8400, 6-core "Coffee Lake", GPU:
                  Nvidia 1660 Super. 2. 2022 M2 Macbook Pro 13", 8GB RAM</small></i>
            </caption>
            <thead>
              <tr>
                <th class="sticky-col">Model</th>
                <th>App Launch</th>
                <th>Core i5 CPU</th>
                <th>Core i5 GPU</th>
                <th>M2 CPU</th>
                <th>M2 GPU</th>
              </tr>
            </thead>
            <tbody class="table-group-divider">
              <tr>
                <td class="sticky-col">Nocmig models</td>
                <td>&lt; 3s</td>
                <td>80s (140x)</td>
                <td><strong>13.8s (811x)</strong></td>
                <td>67s (167x)</td>
                <td><strong>25s (447x)</strong></td>
              </tr>
              <tr>
                <td class="sticky-col">Chirpity BirdNET</td>
                <td>&lt; 3s</td>
                <td>106s (106x)</td>
                <td><strong id="bestTime" class="shine">11.3s (995x)</strong></td>
                <td>75s (148x)</td>
                <td><strong>22s (500x)</strong></td>
              </tr>
              <tr>
                <td class="sticky-col">BirdNET Analyzer</td>
                <td><strong>&gt; 100s</strong></td>
                <td><strong>549s (20x)</strong></td>
                <td>N/A</td>
                <td>126s (88x)</td>
                <td>N/A</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <fieldset class="mt-3 pb-3">
        <label class="h5 m-3" id="downloads">Downloads</label>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3 text-center">
              <a
                id="latest-win"
                href="https://github.com/Mattk70/Chirpity-Electron/releases/latest"
              >
                <button id="get-latest-win" type="button" class="btn">
                  Get the latest PC release from GitHub
                </button>
              </a>
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3 text-center">
              <a
                id="latest-portable-win"
                href="https://github.com/Mattk70/Chirpity-Electron/releases/latest"
              >
                <button
                  id="get-latest-portable-win"
                  type="button"
                  class="btn align-items-center"
                >
                  Get the latest PC release from GitHub
                </button>
              </a>
            </div>
          </div>
          <hr class="w-75" style="margin: 0 auto" />
          <div class="col-md-6 mt-3">
            <div class="mb-3 text-center">
              <a
                id="latest-mac"
                href="https://github.com/Mattk70/Chirpity-Electron/releases/latest"
                onclick="_paq.push(['trackGoal', 1]);"
              >
                <button id="get-latest-mac" type="button" class="btn">
                  <svg
                    class="download-logo"
                    width="50"
                    height="50"
                    viewBox="0 0 50 50"
                    focusable="false"
                  >
                    <path
                      d="M39.054 34.065q-1.093 3.504-3.448 7.009-3.617 5.495-7.205 5.495-1.374 0-3.925-.897-2.411-.897-4.233-.897-1.71 0-3.981.925-2.271.953-3.701.953-4.261 0-8.439-7.261Q.001 32.075.001 25.29q0-6.392 3.168-10.485 3.14-4.037 7.962-4.037 2.019 0 4.962.841 2.916.841 3.869.841 1.262 0 4.009-.953 2.86-.953 4.85-.953 3.336 0 5.972 1.822 1.458 1.009 2.916 2.804-2.215 1.878-3.196 3.308-1.822 2.635-1.822 5.803 0 3.476 1.934 6.252t4.43 3.533zM28.512 1.179q0 1.71-.813 3.813-.841 2.103-2.607 3.869-1.514 1.514-3.028 2.019-1.037.308-2.916.477.084-4.177 2.187-7.205 2.075-3 7.009-4.149.028.084.07.308t.07.308q0 .112.014.28t.014.28z"
                    ></path>
                  </svg>
                  Get the latest release for M-series Macs from Github
                </button>
              </a>
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3 text-center mt-3">
              <a
                id="latest-intel-mac"
                href="https://github.com/Mattk70/Chirpity-Electron/releases/latest"
                onclick="_paq.push(['trackGoal', 1]);"
              >
                <button id="get-latest-intel-mac" type="button" class="btn">
                  <svg
                    class="download-logo"
                    width="50"
                    height="50"
                    viewBox="0 0 50 50"
                    focusable="false"
                  >
                    <path
                      d="M39.054 34.065q-1.093 3.504-3.448 7.009-3.617 5.495-7.205 5.495-1.374 0-3.925-.897-2.411-.897-4.233-.897-1.71 0-3.981.925-2.271.953-3.701.953-4.261 0-8.439-7.261Q.001 32.075.001 25.29q0-6.392 3.168-10.485 3.14-4.037 7.962-4.037 2.019 0 4.962.841 2.916.841 3.869.841 1.262 0 4.009-.953 2.86-.953 4.85-.953 3.336 0 5.972 1.822 1.458 1.009 2.916 2.804-2.215 1.878-3.196 3.308-1.822 2.635-1.822 5.803 0 3.476 1.934 6.252t4.43 3.533zM28.512 1.179q0 1.71-.813 3.813-.841 2.103-2.607 3.869-1.514 1.514-3.028 2.019-1.037.308-2.916.477.084-4.177 2.187-7.205 2.075-3 7.009-4.149.028.084.07.308t.07.308q0 .112.014.28t.014.28z"
                    ></path>
                  </svg>
                  Get the latest Intel Mac release from Github
                </button>
              </a>
            </div>
          </div>
          <hr class="w-75" style="margin: 0 auto" />
          <div class="col-md-6 mt-3">
            <div class="mb-3 text-center align-middle">
              <a
                id="latest-linux"
                href="https://github.com/Mattk70/Chirpity-Electron/releases/latest"
                onclick="_paq.push(['trackGoal', 1]);"
              >
                <button
                  id="get-latest-linux"
                  type="button"
                  class="btn text-bg-warning"
                >
                  <img
                    class="download-logo"
                    width="50"
                    height="50"
                    style="mix-blend-mode: multiply"
                    src="linux.png"
                  />
                  Download an AppImage<br />
                  for Linux
                </button>
              </a>
            </div>
          </div>
          <div class="col-md-6 mt-3">
            <div class="justify-content-center w-100 d-flex">
              <script
                type="text/javascript"
                src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js"
                data-name="bmc-button"
                data-slug="matthew_kirkland"
                data-color="#5F7FFF"
                data-emoji=""
                data-font="Cookie"
                data-text="Buy me a coffee"
                data-outline-color="#000000"
                data-font-color="#ffffff"
                data-coffee-color="#FFDD00"
              ></script>
            </div>
          </div>
        </div>
      </fieldset>
      <hr />
      <h4 id="classifiers"><span class="badge text-bg-warning">New</span> Additional Classifiers</h4>
      <div class="m-2">
        Chirpity allows <a href="https://www.buymeacoffee.com/matthew_kirkland" target="_blank">Buy-me-a-coffee</a> members to train and import additional classifiers to expand its classification capabilities. 
        <p>
          To use the classifiers below, download the ZIP file, extract it and import the model from Chirpity's train menu.
        </p>

      </div>
      <div class="m-2 row">
        <!-- <div class="col-auto">
          <div class="card" style="width: 20rem">
            <div style="position: relative;">
              <img src="img/Rhinolophus_hipposideros.png" class="card-img-top" alt="Chirpity Batpack">
              <div style="
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.1);
                color: gray;
                font-size: 0.75rem;
                padding: 0.25rem;
                text-align: right;">
                Image: JozefBem1009, CC BY 4.0 <br>via Wikimedia Commons
              </div>
            </div>
            <div class="card-body">
              <h5 class="card-title">Chirpity BatPack</h5>
              <p class="card-text">The BatPack allows the review (and comparison) of vocalisations in ultrasonic recordings, and the classifier is trained to identify 26 European bat species.</p>
              <a href="downloads/Bats v1.0.zip" class="btn btn-primary">Download</a>
            </div>
          </div>
        </div> -->
        <div class="col-auto">
          <div class="card" style="width: 20rem">
            <div style="position: relative;">
              <img src="img/Natterjack_Toad.png" class="card-img-top" alt="FrogNET">
              <div style="
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.4);
                color: gray;
                font-size: 0.75rem;
                padding: 0.25rem;
                text-align: right;">
                Image: Bernard DUPONT from FRANCE, CC BY-SA 2.0, via Wikimedia Commons
              </div>
            </div>
            <div class="card-body">
              <h5 class="card-title">FrogNET v1.0.2</h5>
              <p class="card-text">
                This classifier extends BirdNET to include a number of new European amphibian species and adds some new classes for birds that are often confused with amphibians. 
                It is likely to be most useful in recording locations where amphibians are regularly calling.</p>
              <a href="downloads/FrogNET v1.0.2.zip" class="btn btn-primary w-100">Download</a>
            </div>
          </div>
        </div>
      
        <div class="col">
            <div class="card" style="width: 20rem">
              <img src="img/Perch.png" class="card-img-top" alt="Perch V2">
              <div class="card-body">
                <h5 class="card-title">Perch V2</h5>
                <p class="card-text">
                  Perch is a bioacoustics model developed by the <a href="https://research.google.com/">Google Research</a> team. It is trained to classify nearly 15,000 species, of which 10,000 are birds. 
                  It requires <a href="https://github.com/Mattk70/Chirpity-Electron/releases/">Chirpity v5.5.0</a> or later to run (also Ventura or later if running on an Intel Mac). Before downloading, reading the <a href="https://github.com/Mattk70/Chirpity-Electron/discussions/395">guidance is highly recommended</a>.
                </p>
                <a href="https://github.com/Mattk70/Chirpity-Website/releases/download/v3.0.0/Perch.v2.7z" class="btn btn-primary w-100">Download</a>
              </div>
            </div>
          </div>
        </div>
      <h6>
        First released to the public on February 8<sup>th</sup>, 2024, Chirpity
        has regular users in 45 countries and counting!
      </h6>
      <div class="flag-slider">
        <div class="flag-track">
          <!-- Flag images -->
          <img
            src="img/countries/fi.png"
            alt="Finland"
            title="Finland"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/it.png"
            alt="Italy"
            title="Italy"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/in.png"
            alt="India"
            title="India"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/nl.png"
            alt="Holland"
            title="Holland"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/ie.png"
            alt="Ireland"
            title="Ireland"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/es.png"
            alt="Spain"
            title="Spain"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/jp.png"
            alt="Japan"
            title="Japan"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/be.png"
            alt="Belgium"
            title="Belgium"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/au.png"
            alt="Australia"
            title="Australia"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/fr.png"
            alt="France"
            title="France"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/us.png"
            alt="USA"
            title="USA"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/se.png"
            alt="Sweden"
            title="Sweden"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/gb.png"
            alt="United Kingdom"
            title="United Kingdom"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/ch.png"
            alt="Switzerland"
            title="Switzerland"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/de.png"
            alt="Germany"
            title="Germany"
            class="img-fluid border rounded"
          />
          <!-- <img src="img/countries/ar.png" width="64" height="48" alt="Argentina" title="Argentina" class="img-fluid border rounded"> -->
          <img
            src="img/countries/cl.png"
            width="64"
            height="48"
            alt="Chile"
            title="Chile"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/da.png"
            width="64"
            height="48"
            alt="Denmark"
            title="Denmark"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/cz.png"
            width="64"
            height="48"
            alt="Czech Republic"
            title="Czech Republic"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/no.png"
            width="64"
            height="48"
            alt="Norway"
            title="Norway"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/br.png"
            width="64"
            height="48"
            alt="Brazil"
            title="Brazil"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/ca.png"
            width="64"
            height="48"
            alt="Canada"
            title="Canada"
            class="img-fluid border rounded"
          />
          <img
            src="img/countries/zh.png"
            width="64"
            height="48"
            alt="China"
            title="China"
            class="img-fluid border rounded"
          />
          
          <!-- ... (Repeat all flags for smooth looping) -->
          
        <img
          src="img/countries/da.png"
          width="64"
          height="48"
          alt="Denmark"
          title="Denmark"
          class="img-fluid border rounded"
        />
        <img
          src="img/countries/cz.png"
          width="64"
          height="48"
          alt="Czech Republic"
          title="Czech Republic"
          class="img-fluid border rounded"
        />
        <img
          src="img/countries/no.png"
          width="64"
          height="48"
          alt="Norway"
          title="Norway"
          class="img-fluid border rounded"
        />
        <img
          src="img/countries/br.png"
          width="64"
          height="48"
          alt="Brazil"
          title="Brazil"
          class="img-fluid border rounded"
        />
        <img
          src="img/countries/ca.png"
          width="64"
          height="48"
          alt="Canada"
          title="Canada"
          class="img-fluid border rounded"
        />
        <img
          src="img/countries/zh.png"
          width="64"
          height="48"
          alt="China"
          title="China"
          class="img-fluid border rounded"
        />
        </div>
      </div>

      <div id="latest-notes"></div>
      <h5>Release history</h5>

      <!-- Bootstrap 5 Accordion for Releases -->
      <div class="accordion" id="releasesAccordion"></div>
      <p>
        View
        <a href="https://github.com/Mattk70/Chirpity-Electron/releases"
          >older releases on Github</a
        >
        <svg width="16" height="18">
          <use xlink:href="#external-link-icon"></use>
        </svg>
      </p>

      <h2>Video Walkthrough (best viewed fullscreen)</h2>
      <div class="row">
        <div class="col-sm-6">
          <div class="card">
            <div class="card-header">Example of using Chirpity</div>
            <div class="card-body">
              <div class="ratio ratio-16x9">
                <iframe
                  width="100%"
                  height="100%"
                  src="https://www.youtube.com/embed/5_37FMPRkwY?si=qnQNUKJJyuCJ_U4b?vq=hd720&cc_load_policy=1"
                  title="YouTube video player"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen
                ></iframe>
              </div>
              <p class="card-text">
                An introductory tour of the key features of Chirpity.
              </p>
            </div>
          </div>
        </div>
        <div class="col-sm-5 d-flex">
          <div class="card w-100">
                <!-- <div style="position: relative;"> -->
                <img src="img/logo/tesla-logo.webp" class="card-img-top" alt="Tesla Logo">
                
                <div class="card-body">
                <h5 class="card-title text-center">Tesla Offers</h5>
                    <p class="card-text">
                        <p>Use the referral link below to access offers from Tesla and also help support Chirpity</p>
                        <a href="https://ts.la/matthew908422"><button class="btn btn-info w-100" style="min-width: 100px">See current offers</button></a>

                    </p>
                </div>
            </div>
          </div>
      </div>

      <!-- Installation -->
      <!-- Detect Edge -->
      <h2 id="installation">Installation</h2>
      <div id="installation-warnings"></div>
      <script>
        // Check if the user is using Microsoft Edge
        const isEdge = window.navigator.userAgent.indexOf("Edg") > -1;
        let html;
        // Function to add the HTML code if Edge is detected
        function addBrowserSpecificWarnings(isEdge) {
          if (isEdge) {
            html = `
        <p>If not using the portable application, during installation you may see a warning about the file not being commonly downloaded. In this case, you will need to click the three 
	dots, "Show more" and "Keep anyway". After this you will be able to open the file and proceed with the installation.</p>
        <div class="container mt-4">
          <div class="row row-cols-1 row-cols-md-2 g-4 pb-4">
            <div class="col">
	    1.  <img src="Edge1.png" class="img-fluid rounded" alt="Installation Image 1">
            </div>
            <div class="col">
            2.  <img src="Edge2.png" class="img-fluid rounded" alt="Installation Image 2">
            </div>
            <!-- Add more columns for additional images as needed -->
          </div>
          <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col">
            3.  <img src="Edge3.png" class="img-fluid rounded" alt="Installation Image 3">
            </div>
            <div class="col">
            4.  <img src="Edge4.png" class="img-fluid rounded" alt="Installation Image 4">
            </div>
            <!-- Add more columns for additional images as needed -->
          </div>
        </div>
      `;
          } else {
            html = `
        <p>If not using the portable application, during installation, you may see a warning due to the lack of a digital signature. Simply select "More info"
        and then "Run anyway" to proceed with the install.</p>
        <div class="container mt-4">
          <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col">
              <img src="install-1.png" class="img-fluid rounded" alt="Installation Image 1">
            </div>
            <div class="col">
              <img src="install-2.png" class="img-fluid rounded" alt="Installation Image 2">
            </div>
            <!-- Add more columns for additional images as needed -->
          </div>
        </div>
<p class="mt-3">If you have any issues with the installation after following these instructions, let me know by <a href="https://github.com/Mattk70/Chirpity-Electron/issues">opening an issue on GitHub</a></p>  
    `;
          }
          return html;
        }
        let macHTML;
        if (navigator.userAgent.includes("Macintosh")) {
          macHTML = `
  <div class="alert alert-warning">Be careful to select the correct installer. Chirpity-X.Y.Z<font color="red">-arm64</font>.pkg is built for Apple Silicon and will not work on older Intel Macs. 
	Chirpity-X.Y.Z.pkg is for Intel Macs and will not work on Apple Silicon (M-series) machines.</div>
Because the installer hasn't been digitally signed, there are some additional steps needed over a standard installation. What follows is a walk through.<br />
<b> Please follow the instructions carefully!</b>
<div class="accordion" id="accordionExample">
  <div class="accordion-item">
	<h2 class="accordion-header">
	      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
		Instructions for OSX Sequoia and later
	      </button>
	</h2>
  <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
      <div class="accordion-body">

		<ol>
		<li>Attempt to open the application, you should see a warning like this. Select 'Done':</li>
		<img src="./step1.png"  alt="macOS cannot verify the developer of chirpity-x.x.x-arm64.pkg">
		<li><b>After</b> doing this, open the settings app and find &quot;Privacy and Security&quot;
		<li>Near the end of the settings pane, you'll find an option to allow the installer to run:<br clear="all">
		<img src="step2.png" alt="settings">
		<li>Now when you open the installer file, you will see the following warning. If you select "Open Anyway" the installer will run:<br clear="all">
		<img src="step3.png" alt="Open anyway">
		</ol>


      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
        Instructions for older OSX versions
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
      <div class="accordion-body">
	<ol>
	  <li>Navigate to your Downloads folder</li>
	  <li><b>Important!</b> Hold down the 'control ^' key and then select the pkg file</li>
	  <li>A menu should appear, select the top link 'Open'</li>
	  <li>A warning will be displayed, like this one:</li>
	  <img src="img/mac-warning.png" height="418" width="328" alt="macOS cannot verify the developer of chirpity-x.x.x-arm64.pkg">
	  <li>If you choose to select 'open' the installer will run - just follow the installation prompts</li>
	</ol>

	</div>
    </div>
  </div>
</div>
`;

          macHTML += `<p>If you have any issues with the installation after following these instructions, let me know by <a href="https://github.com/Mattk70/Chirpity-Electron/issues">opening an issue on GitHub</a></p>      `;

          // Create a new div element to hold the HTML
          var container = document.getElementById("installation-warnings");
          container.innerHTML =
            macHTML ||
            "For platform specific installation instructions, please visit the site from a supported installation platform";
        } else {
          // Call the function to add the HTML for Microsoft Edge
          // Create a new div element to hold the HTML
          var container = document.getElementById("installation-warnings");
          container.innerHTML = addBrowserSpecificWarnings(isEdge);
        }
      </script>

      <script>
        // Fetch information about all releases
        let latestVersion;
        fetch(
          "https://api.github.com/repos/Mattk70/Chirpity-Electron/releases/latest"
        )
          .then((response) => response.json())
          .then((data) => {
            // Update the download link and button text for the latest release
            const latestRelease = data;
            const VERSION = latestRelease.tag_name;
            const assets = latestRelease.assets;
            let macDownloadLink,
              macIntelDownloadLink,
              winDownloadLink,
              winPortableDownloadLink,
              linuxDownloadLink = "#";
            for (let i = 0; i < assets.length; i++) {
              if (assets[i].name.endsWith("exe")) {
                if (assets[i].name.indexOf("Setup") !== -1) {
                  winDownloadLink = assets[i].browser_download_url;
                } else {
                  winPortableDownloadLink = assets[i].browser_download_url;
                }
              } else if (assets[i].name.endsWith("pkg")) {
                if (assets[i].name.includes("arm64")) {
                  macDownloadLink = assets[i].browser_download_url;
                } else {
                  macIntelDownloadLink = assets[i].browser_download_url;
                }
              } else if (assets[i].name.endsWith("AppImage")) {
                linuxDownloadLink = assets[i].browser_download_url;
              }
            }
            const releaseNotes = document.getElementById("latest-notes");
            const winDownloadButton = document.getElementById("get-latest-win");
            const winDownloadLinkElement =
              document.getElementById("latest-win");
            const winPortableDownloadButton = document.getElementById(
              "get-latest-portable-win"
            );
            const winPortableDownloadLinkElement = document.getElementById(
              "latest-portable-win"
            );
            const macDownloadButton = document.getElementById("get-latest-mac");
            const macDownloadLinkElement =
              document.getElementById("latest-mac");
            const macIntelDownloadButton = document.getElementById(
              "get-latest-intel-mac"
            );
            const macIntelDownloadLinkElement =
              document.getElementById("latest-intel-mac");
            const linuxDownloadButton =
              document.getElementById("get-latest-linux");
            const linuxDownloadLinkElement =
              document.getElementById("latest-linux");

            winDownloadLinkElement.href = winDownloadLink;
            winDownloadButton.innerHTML =
              `<svg class="download-logo" width="50" height="50" viewBox="0 0 50 50" focusable="false"><path d="M1.589 23.55L1.572 8.24l18.839-2.558V23.55zM23.55 5.225l25.112-3.654V23.55H23.55zM48.669 26.69l-.006 21.979-25.112-3.533V26.69zM20.41 44.736l-18.824-2.58-.001-15.466H20.41z"></path></svg>Download Chirpity ${VERSION}<br /> for Windows`;
            winPortableDownloadLinkElement.href = winPortableDownloadLink;
            winPortableDownloadButton.innerHTML =
              `<div class="align-items-center"><img src="usb-24724.png" height="50" class="me-2"><svg class="me-2" width="50" height="50" viewBox="0 0 50 50" focusable="false"><path d="M1.589 23.55L1.572 8.24l18.839-2.558V23.55zM23.55 5.225l25.112-3.654V23.55H23.55zM48.669 26.69l-.006 21.979-25.112-3.533V26.69zM20.41 44.736l-18.824-2.58-.001-15.466H20.41z"></path></svg></div>Download a Portable Chirpity<br /> ${VERSION} for Windows`;
            macDownloadLinkElement.href = macDownloadLink;
            macDownloadButton.innerHTML =
              `<svg  class="download-logo" width="50" height="50" viewBox="0 0 50 50" focusable="false"><path d="M39.054 34.065q-1.093 3.504-3.448 7.009-3.617 5.495-7.205 5.495-1.374 0-3.925-.897-2.411-.897-4.233-.897-1.71 0-3.981.925-2.271.953-3.701.953-4.261 0-8.439-7.261Q.001 32.075.001 25.29q0-6.392 3.168-10.485 3.14-4.037 7.962-4.037 2.019 0 4.962.841 2.916.841 3.869.841 1.262 0 4.009-.953 2.86-.953 4.85-.953 3.336 0 5.972 1.822 1.458 1.009 2.916 2.804-2.215 1.878-3.196 3.308-1.822 2.635-1.822 5.803 0 3.476 1.934 6.252t4.43 3.533zM28.512 1.179q0 1.71-.813 3.813-.841 2.103-2.607 3.869-1.514 1.514-3.028 2.019-1.037.308-2.916.477.084-4.177 2.187-7.205 2.075-3 7.009-4.149.028.084.07.308t.07.308q0 .112.014.28t.014.28z"></path></svg>Download Chirpity ${VERSION}<br />for M Series Macs`;
            macIntelDownloadLinkElement.href = macIntelDownloadLink;
            macIntelDownloadButton.innerHTML =
              `<svg  class="download-logo" width="50" height="50" viewBox="0 0 50 50" focusable="false"><path d="M39.054 34.065q-1.093 3.504-3.448 7.009-3.617 5.495-7.205 5.495-1.374 0-3.925-.897-2.411-.897-4.233-.897-1.71 0-3.981.925-2.271.953-3.701.953-4.261 0-8.439-7.261Q.001 32.075.001 25.29q0-6.392 3.168-10.485 3.14-4.037 7.962-4.037 2.019 0 4.962.841 2.916.841 3.869.841 1.262 0 4.009-.953 2.86-.953 4.85-.953 3.336 0 5.972 1.822 1.458 1.009 2.916 2.804-2.215 1.878-3.196 3.308-1.822 2.635-1.822 5.803 0 3.476 1.934 6.252t4.43 3.533zM28.512 1.179q0 1.71-.813 3.813-.841 2.103-2.607 3.869-1.514 1.514-3.028 2.019-1.037.308-2.916.477.084-4.177 2.187-7.205 2.075-3 7.009-4.149.028.084.07.308t.07.308q0 .112.014.28t.014.28z"></path></svg>Download Chirpity ${VERSION}<br />for Intel Macs`;
            linuxDownloadLinkElement.href = linuxDownloadLink;
            linuxDownloadButton.innerHTML =
              `<img class="download-logo" width="50" height="50" style="mix-blend-mode: multiply" src="linux.png" />Download Chirpity ${VERSION}<br />for Linux (AppImage)`;

            //scroll to installation on click, after a bit
            const install = document.getElementById("installation");
            [winDownloadButton, macDownloadButton].forEach((button) => {
              button.addEventListener("click", () => {
                window.scrollTo({
                  top: install.offsetTop,
                  behaviour: "smooth",
                });
              });
            });

            const isMac = navigator.userAgent.includes("Macintosh");
            const isWindows = navigator.userAgent.includes("Windows NT");
            const isLinux = navigator.userAgent.includes("Linux");

            if (isMac) {
              winDownloadButton.classList.add("btn-secondary");
              winPortableDownloadButton.classList.add("btn-secondary");
              macDownloadButton.classList.add("btn-primary");
              macDownloadButton
                .querySelector("svg")
                .classList.add("logo-primary");
              macIntelDownloadButton.classList.add("btn-primary");
              macIntelDownloadButton
                .querySelector("svg")
                .classList.add("logo-primary");
              linuxDownloadButton.classList.add("btn-secondary");
            } else if (isWindows) {
              winDownloadButton.classList.add("btn-primary");
              winPortableDownloadButton.classList.add("btn-primary");
              macDownloadButton.classList.add("btn-secondary");
              macIntelDownloadButton.classList.add("btn-secondary");
              winDownloadButton
                .querySelector("svg")
                .classList.add("logo-primary");
              winPortableDownloadButton
                .querySelector("svg")
                .classList.add("logo-primary");
              linuxDownloadButton.classList.add("btn-secondary");
            } else if (isLinux) {
              linuxDownloadButton.classList.add("btn-primary");
              winDownloadButton.classList.add("btn-secondary");
              winPortableDownloadButton.classList.add("btn-secondary");
              macDownloadButton.classList.add("btn-secondary");
              macIntelDownloadButton.classList.add("btn-secondary");
              winDownloadButton
                .querySelector("svg")
                .classList.add("logo-secondary");
              winPortableDownloadButton
                .querySelector("svg")
                .classList.add("logo-secondary");
              container.innerHTML =
                '  <div class="alert alert-warning">Chirpity requires the system supports the AVX2 instruction set. If your CPU is a Pentium, Celeron or Xeon model, it is unlikely to work. If unsure, you can visit <a href="https://www.intel.com/content/www/us/en/support/articles/000090473/processors/intel-core-processors.html">How to Know If My Intel Processor Supports Intel Advanced Vector Extensions 2 (Intel AVX2)</a> to find out. </div>';
            } else {
              container.innerHTML =
                "To see platform-specific installation instructions, please visit the site from a supported platform";
            }
          });

        // Create accordion items for each of the last 5 releases
        const releasesAccordion = document.getElementById("releasesAccordion");
        let exeCount = 0,
          pkgCount = 0,
          AppImageCount = 0,
          currentCount = 0;
Promise.all([
  fetch("https://api.github.com/repos/Mattk70/Chirpity-Electron/releases?page=1&per_page=100").then(r => r.json()),
  fetch("https://api.github.com/repos/Mattk70/Chirpity-Electron/releases?page=2&per_page=100").then(r => r.json())
])
  .then(pages => {
    const data = pages.flat(); // merge page 1 + page 2

            let limit = 5; // last 5 releases
            for (let i = 0; i < data.length; i++) {
              const release = data[i];
              if (release.name === "0.10.1") break;
              if (release.prerelease) {
                continue;
                // Skip pre-releases
              }
              if (release.assets.length) {
                // download count
                release.assets.forEach((asset) => {
                  if (asset.browser_download_url.endsWith("pkg") 
                      || asset.browser_download_url.endsWith("dmg")) {
                    pkgCount+=asset.download_count;
                    i === 0 && (currentCount+=asset.download_count);
                  } else if (asset.browser_download_url.endsWith("exe")) {
                    exeCount+=asset.download_count;
                    i === 0 && (currentCount+=asset.download_count);
                  } else if (asset.browser_download_url.endsWith("AppImage")) {
                    AppImageCount+=asset.download_count;
                    i === 0 && (currentCount+=asset.download_count);
                  }
                });
                if (i < limit) {
                  const releaseItem = document.createElement("div");
                  releaseItem.className = "accordion-item";
                  const notes = marked.parse(release.body);
                  releaseItem.innerHTML = `
                        <h2 class="accordion-header" id="release${release.id}">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${
                              release.id
                            }" aria-expanded="false" aria-controls="collapse${
                    release.id
                  }">
                                ${release.name || release.tag_name}
                            </button>
                        </h2>
                        <div id="collapse${
                          release.id
                        }" class="accordion-collapse collapse" aria-labelledby="release${
                    release.id
                  }">
                            <div class="accordion-body">
                                <!--a href="${
                                  release.assets[0].browser_download_url
                                }"><button class="btn btn-secondary">Download Chirpity ${
                    release.tag_name
                  } </button></a -->
				 <h4>Release Notes</h4>
				<ul>
				${notes || "No notes for this release"}
				</ul>
                            </div>
                        </div>
                    `;
                  releasesAccordion.appendChild(releaseItem);
                }
              }
            }
            // Function to add a Bootstrap pill containing the download count
            function addDownloadCountPill(pkgCount, exeCount, AppImageCount, currentCount) {
              // Check if usernameValue is 'matt'
              if (usernameValue === "matt") {
                // Create a <span> element with Bootstrap classes for the pill
                const pillSpan = document.createElement("span");
                pillSpan.classList.add(
                  "pb-2",
                  "badge",
                  "text-bg-warning",
                  "rounded-pill"
                );
                const count = exeCount + pkgCount + AppImageCount;
                // Set the inner text of the pill to the download count
                pillSpan.innerText = `Windows: ${exeCount}, Mac: ${pkgCount}, Linux ${AppImageCount}. Total ${count}. Latest: ${currentCount}.`;

                // Create a <span> element to contain the pill and label
                const containerSpan = document.createElement("span");
                containerSpan.classList.add("d-inline-block");

                // Append the pill to the container
                containerSpan.appendChild(pillSpan);

                // Append the container to the document body or any other desired element
                document.getElementById("downloads").appendChild(containerSpan);
              }
            }

            // Example usage: Call the function with the download count if userNameValue is 'Matt'
            addDownloadCountPill(pkgCount, exeCount, AppImageCount, currentCount);
          })
          .catch((error) => {
            console.error("Error fetching releases:", error);
            // Handle errors, e.g., display a default link or message
            const downloadLinkElement = document.getElementById("latest");
            downloadLinkElement.href =
              "https://github.com/Mattk70/Chirpity-Electron/releases"; // Set a fallback link
          });
      </script>

      <!-- theme toggler -->
      <script>
        const themeToggle = document.getElementById("themeToggle");

        // Check and apply the user's saved preference
        let savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
          document.documentElement.setAttribute("data-bs-theme", savedTheme);
          themeToggle.checked = savedTheme === "dark";
        }

        themeToggle.addEventListener("click", () => {
          const currentTheme =
            document.documentElement.getAttribute("data-bs-theme");
          const newTheme = currentTheme === "light" ? "dark" : "light";


          // Apply the new theme
          document.documentElement.setAttribute("data-bs-theme", newTheme);

          // Save the preference
          localStorage.setItem("theme", newTheme);
          savedTheme = newTheme;
          const shine = document.getElementById('bestTime')
          shine.classList.toggle('shine', savedTheme === 'dark')
        });

        const shine = document.getElementById('bestTime')
        shine.classList.toggle('shine', savedTheme === 'dark')
      </script>
    </div>
  </body>
</html>
